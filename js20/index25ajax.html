<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://unpkg.com/mustard-ui@latest/dist/css/mustard-ui.min.css">
    <link href='http://fonts.googleapis.com/css?family=Roboto&display=swap' rel='stylesheet'>
    <link rel="stylesheet" href="css/style.css">
    <title>Ch 25 AJAX</title>
</head>
<body>
<div class="container">
<div class="out"></div>
</div>
<script>
let a;
let xhttp = new XMLHttpRequest ()
// console.log(xhttp)
xhttp.onreadystatechange = function () {
    if (this.readyState == 4 && this.status ==200) {
        myFunction (this.responseText);
    }
}
xhttp.open("GET", "http://getpost.itgid.info/index2.php?auth=werfgthj", true)
xhttp.send()

function myFunction (data) {
    a = data
    console.log(`callback: ${data}`)
}
console.log(`global: ${a}`)  //здеси манипуляции буссысленны из-за асинхронности

let xhttp2 = new XMLHttpRequest ()
// console.log(xhttp)
xhttp2.onreadystatechange = function () {
    if (this.readyState == 4 && this.status ==200) {
        myFunction2 (this.responseText);
    }
}
xhttp2.open("POST", "http://getpost.itgid.info/index2.php", true)
    xhttp2.setRequestHeader("Content-type", "application/x-www-form-urlencoded")
xhttp2.send('auth=werfgthj')

function myFunction2 (data) {
    a = data
    console.log(`callback4POST: ${data}`)
}

</script>
</body>
</html>