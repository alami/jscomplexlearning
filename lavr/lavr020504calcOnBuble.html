<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lavrik ch.05 H/W calculator </title>
</head>
<body>
<form class="calculator">
<input type="text" class="inp inp1">
<select class="operation">
    <option value="sum">+</option>
    <option value="dif">&mdash;</option>
    <option value="mult">*</option>
    <option value="div">/</option>
</select>
<input type="text" class="inp inp2">
<input type="button" class="go" value="=">
<span class="res">___</span>
</form>
</body>
<script>
 window.onload = function () {
     const OPERATIONS = {
         'sum': (a,b) => a + b,
         'dif': (a,b) => a - b,
        'mult': (a,b) => a * b,
         'div': (a,b) => a / b,
     }
        let inp1 = document.querySelector('.inp1')
        let inp2 = document.querySelector('.inp2')
        let btn  = document.querySelector('.go')
        let resBox  = document.querySelector('.res')
        let oper = document.querySelector('.operation')
     btn.addEventListener('click', function () {
         let num1 = parseInt(inp1.value)
         let num2 = parseInt(inp2.value)
         let res
         /*switch (oper.value) {
             case 'sum': res = num1 + num2; break
             case 'dif': res = num1 - num2; break
             case 'mult': res = num1 * num2; break
             case 'div': res = num1 / num2; break
         }*/
         res = OPERATIONS[oper.value](num1,num2)
         if (isNaN(res)) {
             res = 'Error'
         }
         resBox.innerHTML = res
         btn.disabled = true
     })
     /*inp1.addEventListener('input', function () {
         btn.disabled = false
     })*/
     // function btnEnable () {
     //     btn.disabled = false
     // }
     // function cleanInput () {
     //     this.value = this.value.replace(/[^0-9]/g,'')
     // }
     // [inp1,oper,inp2].forEach ( el => el.addEventListener('input', btnEnable))
     // inp1.addEventListener('input',cleanInput)
     // inp2.addEventListener('input',cleanInput)
     form = document.querySelector('.calculator')
     form.addEventListener('input',function (e) {
         btn.disabled = false
         if (e.target.classList.contains('inp')) {
             e.target.value = e.target.value.replace(/[^0-9]/g,'')
         }
     })
 }
</script>
</html>