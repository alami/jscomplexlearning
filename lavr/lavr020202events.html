<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lavrik ch.02 v.02 02-events </title>
</head>
<style>
    html, body {
        margin: 40px;
    }
    .gallery img {
        width: 400px;
        border: 2px solid transparent;
    }
    .gallery img.active {
        border: 2px solid red;
    }
</style>
<body>
<nav class="menu">
    <a href="https://yandex.ru" target="_blank">Яндекс</a>
    <a href="https://google.ru" target="_blank">Гугл</a>
    <a href="https://mail.ru" target="_blank">Mail</a>
</nav>
<br>
<div class="gallery">
    <img src="img/1.jpg">
    <img src="img/2.jpg">
    <img src="img/3.jpg">
</div>
</body>
<script>
    window.onload = function () {
        let links = document.querySelectorAll('nav a')
        let images = document.querySelectorAll('.gallery img')
        for (let i = 0; i < images.length; i++) {
            //images[i].addEventListener('click', imgClicked)
            images[i].addEventListener('contextmenu', imgClicked)
            images[i].addEventListener('mousedown', cancelEvent)
        }
        function imgClicked(e ) {
            // console.log(e)
            e.preventDefault()
            if (!e.ctrlKey) {
                images.forEach(el => el.classList.remove('active'))
            }
            this.classList.toggle('active')
        }
        function cancelEvent(e) {
            e.preventDefault()
        }
        for (let i = 0; i < links.length; i++) {
            links[i].addEventListener('click', confirmTransfer)
        }
        function confirmTransfer(e) {
            if (!confirm('Вы уверены,  что хотите перейти на этот сайт ?')) {
                e.preventDefault()
            }
        }
    }
</script>

</html>